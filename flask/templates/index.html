<script>
	//const proxyurl = "https://cors-anywhere.herokuapp.com/";
	const url = "http://127.0.0.1:5000/hello"
	// GET is the default method, so we don't need to set it
	fetch(url)
		.then(function (response) {
			return response.text();
		}).then(function (text) {
			console.log('GET response text:');
			console.log(text); // Print the greeting as text
		}).catch(() => console.log("Can’t access " + url + " response. Blocked by browser?"));

	// Send the same request
	fetch(url)
		.then(function (response) {
			return response.json(); // But parse it as JSON this time
		})
		.then(function (json) {
			console.log('GET response as JSON:');
			console.log(json); // Here’s our JSON object
		}).catch(() => console.log("Can’t access " + url + " response. Blocked by browser?"))

	// POST
	fetch(url, {

		// Declare what type of data we're sending
		headers: {
			'Content-Type': 'application/json'
		},

		// Specify the method
		method: 'POST',

		// A JSON payload
		body: JSON.stringify({
			"greeting": "Hello from the browser!"
		})
	}).then(function (response) { // At this point, Flask has printed our JSON
		return response.text();
	}).then(function (text) {

		console.log('POST response: ');

		// Should be 'OK' if everything was successful
		console.log(text);
	});
</script>
